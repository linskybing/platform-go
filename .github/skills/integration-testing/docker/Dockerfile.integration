# Dockerfile for Integration Tests
# Runs database and Kubernetes integration tests
# Reference: integration-testing Skill

FROM golang:1.25-alpine

# Install runtime dependencies
RUN apk add --no-cache \
    bash \
    git \
    ca-certificates \
    postgresql-client \
    redis \
    curl

WORKDIR /app

# Copy go module files first for caching
COPY go.mod go.sum ./
RUN go mod download

# Copy source code
COPY . .

# Set default command
CMD ["bash"]
